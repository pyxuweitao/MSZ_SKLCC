<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    {% load staticfiles %}
    <!--<link href='{% static "css/bootstrap.min.css" %}' rel="stylesheet">-->
    <link href="/static/CSS/bootstrap.min.css" rel="stylesheet">
    <script type="text/javascript" src='{% static "js/jquery.min.js" %}'></script>
    <script type="text/javascript" src='{% static "js/bootstrap.min.js" %}'></script>
    <!--<script src="http://code.jquery.com/jquery.min.js" type="text/javascript"></script>-->
    <script src='{% static "js/jquery.cookie.js" %}' type="text/javascript"></script>
    <script type="text/javascript">
        window.onload = function () {
            if ($.cookie('local_username')!= null && $.cookie('local_pass')!=null){
                document.getElementById("is_save").checked = true;
                document.getElementById("username").value =  $.cookie('local_username');
                document.getElementById("password").value =  $.cookie('local_pass');
            }else{

            }
            // $('.alert').alert();
        };
        $('body').keyup(function(e){
            if (e.which == 13){
                onlogin();
            }
        });
        function onlogin() {
            if (document.getElementById('is_save').checked) {
                $.cookie('local_username', document.getElementById("username").value.toString(),{expires:7});
                $.cookie('local_pass', document.getElementById("password").value.toString(),{expires:7});
                //alert('s');
            }else{
                $.removeCookie('local_username');
                $.removeCookie('local_pass');
            }
            document.getElementsByTagName("form")[0].submit();
        }
    </script>
    <title>登录</title>

    {% load staticfiles %}

    <script>
        switch (window.location.hash.toString().slice(1)) {
            case '1':
                alert('请将用户名和密码填写完整后点击登录！');
                break;
            case '2':
                alert('用户名或密码不正确！');
                break;
            case '3':
                alert('用户没有权限登录本系统！');
                break;
            default:
                break;
        }

    </script>
</head>

<body>
<div class="container" style="width: 100%; height: 100%; position: absolute; background-color: #a00e55">
    <div class="row row-clearfix" style="margin-top: 200px">
        <div class="col col-md-8"
             style="border-right: 1px #D1C8C8 solid; height: 269px; margin-right: 20px; ">
                <img src='{% static "img/1.png" %}'>
             </div>
        <div class="col col-md-3 well">
            <div>
                <form action="/submit_id/" method="get" class="form">
                    <div class="form-group">
                        <label for="username" class="form-label">账号</label>
                        <input type="text" value="" maxlength="100" id="username" class="form-control hint"
                               name="username" onfocus=""/>
                    </div>

                    <div class="form-group">
                        <label for="password">密码</label>
                        <input type="password" value="" maxlength="100" id="password" class="form-control hint"
                               name="em_password" onfocus=""/>
                    </div>
                    <div class="fm-item">
                        <input class="form-label" type="checkbox" id="is_save"/>记住我
                    </div>

                    <div class="fm-item">
                        <label class="form-label"> 忘记密码请联系管理员</label>
                        <button type="button" value="" tabindex="4" id="send-btn" class="btn btn-block btn-info" onclick = "return onlogin()">登录
                        </button>
                        <!--在css中修改按钮的样式-->
                    </div>
                </form>
            </div>
        </div>
        <div class="col col-md-1">
            <!-- <div class='alert alert-danger alert-dismissible fade in' role='alert'>
                <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <p>as</p>
            </div> -->

        </div>

    </div>

</div>
<script>
    function initial() {
        var key_user = '<button type = "button" class="btn btn-default" style="margin-right: 10px;margin-bottom: 5px;width: 40px;" onclick = "return onclickuserno(this)">1</button>';
        key_user += '<button type = "button" class="btn btn-default" style="margin-right: 10px;margin-bottom: 5px;width: 40px;" onclick = "return onclickuserno(this)">2</button>';
        key_user += '<button type = "button" class="btn btn-default" style="margin-right: 10px;margin-bottom: 5px;width: 40px;" onclick = "return onclickuserno(this)">3</button>';
        key_user += '<br/>';
        key_user += '<button type = "button" class="btn btn-default" style="margin-right: 10px;margin-bottom: 5px;width: 40px;" onclick = "return onclickuserno(this)">4</button>';
        key_user += '<button type = "button" class="btn btn-default" style="margin-right: 10px;margin-bottom: 5px;width: 40px;" onclick = "return onclickuserno(this)">5</button>';
        key_user += '<button type = "button" class="btn btn-default" style="margin-right: 10px;margin-bottom: 5px;width: 40px;" onclick = "return onclickuserno(this)">6</button>';
        key_user += '<br/>';
        key_user += '<button type = "button" class="btn btn-default" style="margin-right: 10px;margin-bottom: 5px;width: 40px;" onclick = "return onclickuserno(this)">7</button>';
        key_user += '<button type = "button" class="btn btn-default" style="margin-right: 10px;margin-bottom: 5px;width: 40px;" onclick = "return onclickuserno(this)">8</button>';
        key_user += '<button type = "button" class="btn btn-default" style="margin-right: 10px;margin-bottom: 5px;width: 40px;" onclick = "return onclickuserno(this)">9</button>';
        key_user += '<br/>';
        key_user += '<button type = "button" class="btn btn-default" style="margin-right: 10px;margin-bottom: 5px;width: 40px;" onclick = "return onclickuserno(this)">0</button>';
        key_user += '<button type = "button" class="btn btn-default" style="margin-right: 10px;margin-bottom: 5px;height:34px;" onclick = "return onclickuserdel()"><span class="glyphicon glyphicon-arrow-left"></span></button>';
        key_user += '<button type = "button" class="btn btn-default" style="margin-right: 10px;margin-bottom: 5px;height:34px;" onclick="return onclickfin()"><span class="glyphicon glyphicon-ok"></span></button>';
        var option_user = {
            animation: true,
            trigger: "click",
            placement: "left",
            content: key_user,
            html: true,
            title: '工号'
        };
        $("#username").popover(option_user);
        var key_pass = '<button type = "button" class="btn btn-default" style="margin-right: 10px;margin-bottom: 5px;width: 40px;" onclick = "return onclickpano(this)">1</button>';
        key_pass += '<button type = "button" class="btn btn-default" style="margin-right: 10px;margin-bottom: 5px;width: 40px;" onclick = "return onclickpano(this)">2</button>';
        key_pass += '<button type = "button" class="btn btn-default" style="margin-right: 10px;margin-bottom: 5px;width: 40px;" onclick = "return onclickpano(this)">3</button>';
        key_pass += '<br/>';
        key_pass += '<button type = "button" class="btn btn-default" style="margin-right: 10px;margin-bottom: 5px;width: 40px;" onclick = "return onclickpano(this)">4</button>';
        key_pass += '<button type = "button" class="btn btn-default" style="margin-right: 10px;margin-bottom: 5px;width: 40px;" onclick = "return onclickpano(this)">5</button>';
        key_pass += '<button type = "button" class="btn btn-default" style="margin-right: 10px;margin-bottom: 5px;width: 40px;" onclick = "return onclickpano(this)">6</button>';
        key_pass += '<br/>';
        key_pass += '<button type = "button" class="btn btn-default" style="margin-right: 10px;margin-bottom: 5px;width: 40px;" onclick = "return onclickpano(this)">7</button>';
        key_pass += '<button type = "button" class="btn btn-default" style="margin-right: 10px;margin-bottom: 5px;width: 40px;" onclick = "return onclickpano(this)">8</button>';
        key_pass += '<button type = "button" class="btn btn-default" style="margin-right: 10px;margin-bottom: 5px;width: 40px;" onclick = "return onclickpano(this)">9</button>';
        key_pass += '<br/>';
        key_pass += '<button type = "button" class="btn btn-default" style="margin-right: 10px;margin-bottom: 5px;width: 40px;" onclick = "return onclickpano(this)">0</button>';
        key_pass += '<button type = "button" class="btn btn-default" style="margin-right: 10px;margin-bottom: 5px;height:34px;" onclick = "return onclickpadel()"><span class="glyphicon glyphicon-arrow-left"></span></button>';
        key_pass += '<button type = "button" class="btn btn-default" style="margin-right: 10px;margin-bottom: 5px;height:34px;" onclick="return onclickfin()"><span class="glyphicon glyphicon-ok"></span></button>';
        var option_pass = {
            animation: true,
            trigger: "click",
            placement: "left",
            content: key_pass,
            html: true,
            title: '密码'
        };
        $("#password").popover(option_pass);

        $("#username").on('show.bs.popover', function () {
            username_is_shown = true;
            if (password_is_shown) {
                $("#password").click();
            }
        });
        $("#password").on('show.bs.popover', function () {
            password_is_shown = true;
            if (username_is_shown) {
                $("#username").click();
            }
        });
        $("#password").on('hidden.bs.popover', function () {
            password_is_shown = false;
        });
        $("#username").on('hidden.bs.popover', function () {
            username_is_shown = false;
        });
    }
    function onclickfin() {
        if (username_is_shown) {
            document.getElementById("username").click();
        }
        if (password_is_shown) {
            document.getElementById("password").click();
        }
    }
    var username_is_shown = false;
    var password_is_shown = false;
    initial();
    function onclickuserno(input) {
        document.getElementById("username").value = document.getElementById("username").value + input.innerHTML;
    }
    function onclickuserdel() {
        document.getElementById("username").value = document.getElementById("username").value.slice(0, -1);
    }
    function onclickpano(input) {
        document.getElementById("password").value = document.getElementById("password").value + input.innerHTML;
    }
    function onclickpadel() {
        document.getElementById("password").value = document.getElementById("password").value.slice(0, -1);
    }
</script>
</body>

</html>

